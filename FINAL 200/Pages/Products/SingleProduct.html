<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Name</title>

    <link href="https://cdn.jsdelivr.net/npm/remixicon@latest/fonts/remixicon.css" rel="stylesheet">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@200..800&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../../Style/Style.css">
</head>
<body>
     <div class="NavBar">
        <div class="NavBarLinks">
            <i class="ri-menu-3-line OpenSideBar"></i>
            <button class="NavBtn Products" onclick="window.location.href='../Navbar/Main.html'"><i class="ri-store-2-line NavIcon"></i>المنتجات</button>
            <button class="NavBtn Favorite" onclick="window.location.href='../Navbar/AboutUs.html'"><i class="ri-group-line NavIcon"></i>من نحن</button>
            <button class="NavBtn Cart" onclick="window.location.href='../Navbar/PaymentMethod.html'"><i class="ri-bank-card-line NavIcon"></i>طريقة الدفع</button>
        </div>
        <h2 class="TitleText NavbarLogo">Subara</h2>
    </div>
     <div class="SideBar">
            <div class="Links">
                <i class="ri-close-fill CloseSideBar"></i>
                <button class="NavBtn Products" onclick="window.location.href='../Navbar/Main.html'"><i class="ri-store-2-line NavIcon"></i>المنتجات</button>
            <button class="NavBtn Favorite" onclick="window.location.href='../Navbar/AboutUs.html'"><i class="ri-group-line NavIcon"></i>من نحن</button>
            <button class="NavBtn Cart" onclick="window.location.href='../Navbar/PaymentMethod.html'"><i class="ri-bank-card-line NavIcon"></i>طريقة الدفع</button>
            </div>
     </div>
    <div class="MainGrid">
         <div class="ProductContainer">
            
        </div>
    </div>
    <footer class="footer">
            <div class="Links">
                <a href="../Footer/TermsAndConditions.html" class="Terms">الشروط والأحكام</a>
                <a href="../Footer/TermsOfUse.html" class="Contact">سياسة الأستخدام</a>
                <a href="../Footer/Contact.html" class="TermsOfUse">تواصل</a>
            </div>
            <p class="CopyRights">كل الحقوق محفوظة - 2025 SUPARA</p>
    </footer>

        function getIdFromUrl() {
        const params = new URLSearchParams(window.location.search);
        return params.get("id");
        }

        fetch('products.json')
        .then(res => res.json())
        .then(data => {
            const id = getIdFromUrl();
            let product = null;

            for (const sec of data.sections) {
                const found = sec.products.find(p => p.id == Number(id));
                if (found) {
                    product = found;
                    break;
                }
            }

            const area = document.querySelector(".ProductContainer");
            if (!product) {
                area.innerHTML = "<p>المنتج غير موجود</p>";
                return;
            }

            let PlaneOptions = "";
            if (product.plane && product.plane.length > 0) {
                PlaneOptions = product.plane
                    .map(p => `<option plane="${p.price}">${p.planeMethod}</option>`)
                    .join('');
            } 

            area.innerHTML = `
            <div class="ProductImgContainer">
                <img src="${product.image}" alt="" id="product-main-image">
            </div>
            <div class="SingleProduct">
                    <div class="ProductBaseInfo">
                        <h2 class="SingleProductName">${product.name}</h2>
                        <p class="SingleProductPrice">${product.price} ريال يمني</p>
                    </div>

                    <div class="SingleProductDetails">
                        <h3 class="SingleProductDescriptionTitle">الوصف</h3>
                        <p class="SingleProductDescription">${product.description}</p>
                    </div>
                    <div class="PriceSelectorConteiner">
                        <h3 class="PriceSelectorTitle">قم بأختيار أحد الأختيارات</h3>
                        <select name="SelectedValue" class="PriceSelector">
                                ${PlaneOptions}
                        </select>
                    </div>
                    <div class="ProductBtnGroup">
                        <div class="Btn PrimaryBtn SingleProductAddToCart">أضافة لسلة المشتريات</div>
                    </div>
            </div>
            `;
        });
    </script> -->
    <script src="../../Js/App.js"></script>
</body>
</html>